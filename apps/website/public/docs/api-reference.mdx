# API Reference

Core functions and types for BleakAI.

## createSimpleChatClient

```typescript
function createSimpleChatClient(config: {
  baseUrl: string;
  apiKey: string;
  openaiKey: string;
  timeout?: number;
}): BleakChat;
```

**Parameters:**

- `baseUrl` - The API server URL
- `apiKey` - Your BleakAI API key
- `openaiKey` - Your OpenAI API key
- `timeout` - Request timeout (default: 30000ms)

## BleakChat Methods

### ask(prompt, options?)

```typescript
ask(prompt: string, options?: {
  context?: any;
}): Promise<ChatResponse>
```

### answer(answers)

```typescript
answer(answers: AnsweredQuestion[]): Promise<ChatResponse>
```

### finish()

```typescript
finish(): Promise<ChatResponse>
```

## Types

### ChatResponse

```typescript
type ChatResponse =
  | {type: "questions"; questions: InteractiveQuestion[]}
  | {type: "answer"; content: string}
  | {type: "complete"; content: string};
```

### InteractiveQuestion

```typescript
interface InteractiveQuestion {
  question_id: string;
  type: string;
  text: string;
  options?: string[] | null;
}
```

### AnsweredQuestion

```typescript
interface AnsweredQuestion {
  question_id: string;
  answer: string | string[];
}
```

## Error Handling

```typescript
import {ChatError, RateLimitError, AuthenticationError} from "bleakai";

try {
  const response = await client.ask("Hello");
} catch (error) {
  if (error instanceof RateLimitError) {
    console.log(`Rate limited. Retry after: ${error.retryAfter}s`);
  } else if (error instanceof AuthenticationError) {
    console.log("Authentication failed. Check API key.");
  } else if (error instanceof ChatError) {
    console.log(`Chat error: ${error.message}`);
  }
}
```
